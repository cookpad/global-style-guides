# A primer to BEM and OOCSS

We use a combination of BEM and OOCSS to write manageable CSS.
Currently not all CSS have been converted to this style so it's a work in progress!

## BEM

BEM is a set of guidelines for naming classes which helps us produce maintainable CSS by:
- Avoiding the infinite inheritance of CSS and providing the concept of closures by using unique CSS classes per element <sup>[1](#useful-links-and-citations)</sup>
- Reducing style conflicts by limiting the specificity of the CSS rules we create <sup>[1](#useful-links-and-citations)</sup>


```
.BLOCK{__ELEMENT[--MODIFIER]}
```

- **Block:** Name of a UI component
- **Element:** Parts of a UI component
- **Modifier:** Different states/exceptions

We follow the recommendations of https://en.bem.info/methodology/quick-start as our BEM style guide with one exception: 
- Instead of `block__element_modifier` we use `block__element--modifier`

### Example

HTML:

```html
<ul class="tab-list">
  <li class="tab-list__item">Home</li>
  <li class="tab-list__item tab-list__item--active">Users</li>
  <li class="tab-list__item">Posts</li>
</ul>
```

SCSS:
```scss
.tab-list {
  padding: 10px 0;

  &__item {
    display: inline-block;

    &--active {
      background: #EEE;
    }
  }
}
```

Using BEM you don't style components inside other components.
Just like OOP, components should only know about themselves. Ie given the following html:

```html
<ul class="tab-list">
  <li class="tab-list__item">
    <div class="media">
      <img src="users.jpg" class="media__img" />
      <div class="media__body">Users</div>
    </div>
  </li>
</ul>
```

You shouldn't write:

```scss
.tab-list { // Tab list module
  .media__img { // Media block module
    width: 50px;
  }
}
```

Instead, add a new class to the component:

```scss
.tab-list {
  &__image { // Specific to tab lists
    width: 50px;
  }
}
```

```html
<ul class="tab-list">
  <li class="tab-list__item">
    <div class="media">
      <img src="users.jpg" class="tab-list__image media__img" />
      <div class="media__body">Users</div>
    </div>
  </li>
</ul>
```

## OOCSS and Components

In order to achieve a consistent design and reduce CSS, rather than tying custom CSS to business domain specific classes, we aim to create _reusable components_.

Instead of having:

- "User links"
- "Recipe form"
- "Comment publication date"

We try to have as much as possible of:

- "Tab list"
- "Form with chromeless inputs"
- "Hint text"

However, when it isn't clear if a section should be a block or an element or if a block is a candidate for reuse, it is ok to start specific and if reuse becomes possible later on, we can refactor to make things more generic.

## Caveats

- Bootstrap classes don't follow this standard so we currently accept some inconsistencies when using those :sweat:
- Exceptions are occasionally made for form classes like `.form-group` and `.form-control` as they are automatically generated by simple_form and therefore difficult to control.

## Useful Links and Citations

- 1: https://blog.decaf.de/2015/06/24/why-bem-in-a-nutshell/
- https://en.bem.info/methodology/solved-problems/
- http://fullstackradio.com/episodes/1/
- https://mattstauffer.co/blog/organizing-css-oocss-smacss-and-bem
- https://css-tricks.com/bem-101/
